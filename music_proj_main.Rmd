---
title: "Music Data Project"
author: "Thomas Schechter"
date: "`r Sys.Date()`"
output: pdf_document
---

```{r}
#Start by loading packages

library(pacman)

p_load(readr,data.table,tidyverse,ggplot2,tidymodels,ranger,parsnip,purrr,magrittr,lubridate,parallel,pbapply,stringr)

#We'll add more as needed
```
```{r}
#Make sure you commit to your repo

#After that, it's time to load in datasets

#Imported directly from the directory on the bottom-right
```

```{r}
#Peruse the data, get a feel for it all. It's a lot...

glimpse(lyrics_data)

lyrics_sum <- summary(lyrics_data)

lyrics_sum

#It's all character data in lyrics_data

artists_sum <- artists_data %>% summary()

artists_sum

#3/5 is character, 2/5 is numerical
```

```{r}
#continue onto genre and album review datasets

genre_sum <- music_genre %>% summary()

reviews_sum <- music_album_reviews %>% summary()

genre_sum

#some character, mostly numerical data
```

```{r}

reviews_sum

#1 column characters (the review), 1 column numeric (The rating)

#Interesting that 4.0 is the first quartile in review rating... people like what they listen to?

#mean is somewhat below the median for this data set. Let's check it out.
```
```{r}
#let's do some visualization
 #First, simplify the name of the dataset

rev_data <- music_album_reviews

#find the length of each review. We're going to plot that against the rating each album recieved in the review

rev_data$rev_length <- str_length(rev_data$Review)

rev_data %>% glimpse()

rating_chart <- ggplot(rev_data, aes(x=rev_length,y=Rating, color=rev_length)) + geom_boxplot() + facet_wrap(vars(Rating))


rating_chart
```
```{r}
#Let's do some cleaning. 
#Impute to remove any NAs with the mean of the Ratings

rev_data$Rating[is.na(rev_data$Rating)] <- mean(rev_data$Rating, na.rm=T)

anyNA(rev_data$Rating)

#We now can see we have no missing values and can use the data with assurance it's clean
```

```{r}
#How many cores are we working with?

detectCores(all.tests = FALSE, logical = TRUE)

#12. Cool. Let's use 10

cls <- makeCluster(10)


```

